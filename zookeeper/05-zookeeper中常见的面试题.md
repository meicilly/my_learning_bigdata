#### 常见的zookeeper的面试题重点
##### 介绍一下Zookeeper是什么
###### Zookeeper是一个开源的分布式的，为分布式提供协调服务的Apache项目。
###### Zookeeper从设计模式角度来理解，是一个基于观察者模式设计的分布式服务管理框架，它负责存储和管理大家关心的数据，然后接收观察者的注册，一旦这些数据发生了变化，Zookeeper就负责通知已经在Zookeeper上注册的那些观察者做出相应的反应。
###### Zookeeper提供的服务包括:统一命名服务、统一配置管理、统一集群管理、服务器节点动态上下线、软负载均衡等。它致力于那些高吞吐的大型分布式系统提供一个高性能、高可用、具有严格访问控制能力的分布式协调服务。
##### 特点
- 顺序一致性:从一个客户端发起的事务请求,最终都会严格按照其发起顺序被应用到Zookeeper中;对于来自客户端的每个更新请求,Zookeeper都会分配一个全局唯一的递增ID(zxid),这个反应了所有事务请求的先后顺序。
- 原子性:所有事务请求的处理结果在整个集群中所有的机器上都是一致的。
- 最终一致性:所有客户端看到的服务端数据模型都是一致的。
- 可靠性:一旦服务端成功应用了一个事务,则其引起的改变会一直保留，直到被另外一个事务所更改，如果消息被一台服务器接收,那么它将被所有的服务器接受。
- 实时性:一旦一个事务被成功应用后,Zookeeper可以保证客户端立即可以读取到这个事务变更后的最新状态的数据。
- 等待无关(wait-free):慢的或者失效的client不得干预快速的client的请求，使得每个client都能有效的等待。
- 由于Zookeeper的所有的更新和删除都是基于事务的，所有在读多写少的应用场景中有着很高的性能表现。Zookeeper将数据存储全量储在内存中以保持高性能,并通过服务集群来实现高可用。
#### Zookeeper的选举策略，leader和follower的区别
###### 半数机制:集群中半数以上的机器存活，集群可用。
##### 例举一个简单的选举过程
###### 假设有五台服务器组成的Zookeeper集群，它们的id从1-5，同时它们都是最新启动的，也就是没有历史数据，在存放数据量这一点上，都是一样的。
- 服务器1启动，发起一次选举。服务器1投自己一票。此时服务器1票数一票，不够半数以上(3票)，选举无法完成，服务器1状态保持为LOOKING。
- 服务器2启动，再次发起一次选举。服务器1和2分别投自己一票并交换选票信息；此时